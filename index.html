<!DOCTYPE html>
<html lang="en">
  <head>
    <title>AntiCopyPaster Fall 2023</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="navigation">
      <a href="./index.html" class="active">Home</a>
      <a href="pages/resources.html">Resources</a>
      <a href="pages/documentation.html">Documentation</a>
      <a href="pages/timeTracking.html">Time Tracking</a>
      <a href="pages/about.html">About</a>
    </div>
    <h1>Deliverables</h1>
    <script>
      function getDeliverables(){
        fetch('https://cs-423-server.vercel.app/getDeliverables')
          .then(response => response.json())
          .then(data => handleDeliverables(data))
        }
      function handleDeliverables(delivs){
        const mainList = document.createElement('ol');
        for(let d of delivs){
          let listItem = document.createElement('li');
          listItem.innerHTML=`<h2><a href="pages/singleDeliverable.html?id=${d._id.toString()}">${d.name}</a></h2>` 
          mainList.appendChild(listItem)
          for(let key in d){
            let value = document.createElement('p')
            value.innerHTML=`<strong>${key}: </strong>${JSON.stringify(d[key])}`
    
            mainList.appendChild(value)

          }
        }
        document.body.appendChild(mainList)
      }
      function createList(data) {
        const mainList = document.createElement('ol');
        for (let i = 0; i < data.length; i++) {
          const list = document.createElement('li');
          list.innerText = JSON.stringify(data[i]);
          mainList.appendChild(list);
        }
        document.body.appendChild(mainList);
      }
      getDeliverables()
    </script>
  </body>
  
</html>
